(this.webpackJsonpdiyhue=this.webpackJsonpdiyhue||[]).push([[13],{112:function(e,c,t){"use strict";t.r(c);var n=t(14),s=t(2),a=t(16),o=t.n(a),i=t(27),r=t(12),l=t(101),d=t(95),j=(t(96),t(6)),u=function(e){var c=e.HOST_IP,t=e.api_key,n=e.id,s=e.device,a=e.setType,u=e.setMessage,b=function(){o.a.delete("".concat(c,"/api/").concat(t,"/sensors/").concat(n)).then((function(e){console.log(e.data),u("Device successfully deleted"),a("none"),a("success")})).catch((function(e){console.error(e),u("Error occured, check browser console"),a("none"),a("error")}))};return Object(j.jsxs)("div",{className:"card device",children:[Object(j.jsxs)("div",{className:"row1",children:[Object(j.jsx)("div",{className:"icon",children:Object(j.jsx)(r.j,{})}),Object(j.jsx)("div",{className:"text",children:s.name})]}),Object(j.jsx)("div",{className:"row2",children:Object(j.jsxs)("div",{className:"text",children:["battery"in s.config&&function(){var e=s.config.battery,c=e+"%";return console.log(e),e>90?Object(j.jsx)(l.a,{title:c}):e>70?Object(j.jsx)(l.b,{title:c}):e>40?Object(j.jsx)(l.d,{title:c}):Object(j.jsx)(l.c,{title:c})}()," Protocol: ",s.protocol]})}),Object(j.jsxs)("div",{className:"row3",children:[Object(j.jsx)("div",{className:"dropdown"})," ",Object(j.jsx)("div",{className:"switchContainer",children:Object(j.jsxs)("label",{className:"switch",children:[Object(j.jsx)("input",{type:"checkbox",defaultChecked:s.config.on,onChange:function(e){return i=e.currentTarget.checked,void o.a.put("".concat(c,"/api/").concat(t,"/sensors/").concat(n,"/config"),{on:i}).then((function(e){console.log(e.data),u(s.name+" successfully "+(i?"enabled":"disabled")),a("none"),a("success")})).catch((function(e){console.error(e),u("Error occured, check browser console"),a("none"),a("error")}));var i}}),Object(j.jsx)("span",{className:"slider"})]})}),Object(j.jsx)("div",{className:"btn red",children:Object(j.jsx)(i.a,{title:"Delete",onClick:function(){Object(d.confirmAlert)({title:"Delete device "+s.name,message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){return b()}},{label:"No"}]})}})})]}),Object(j.jsx)("div",{className:"label",children:"Offline"})," "]})},b=t(90);c.default=function(e){var c=e.HOST_IP,t=e.API_KEY,a=Object(s.useState)({}),i=Object(n.a)(a,2),r=i[0],l=i[1],d=Object(s.useState)("none"),O=Object(n.a)(d,2),f=O[0],h=O[1],v=Object(s.useState)("no message"),x=Object(n.a)(v,2),m=x[0],p=x[1];return Object(s.useEffect)((function(){var e=function(){void 0!==t&&o.a.get("".concat(c,"/sensors")).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.error(e)}))};e();var n=setInterval((function(){e()}),2e3);return function(){return clearInterval(n)}}),[c,t]),Object(j.jsxs)("div",{className:"content",children:["none"!==f&&Object(j.jsx)(b.a,{type:f,message:m,duration:"5000",setType:h}),Object(j.jsx)("div",{className:"cardGrid",children:Object.entries(r).map((function(e){var s=Object(n.a)(e,2),a=s[0],o=s[1];return Object(j.jsx)(u,{HOST_IP:c,api_key:t,id:a,device:o,setType:h,setMessage:p},a)}))})]})}},90:function(e,c,t){"use strict";t.d(c,"a",(function(){return i}));var n=t(12),s=t(91),a=t.n(s),o=t(6);function i(e){var c=e.type,t=e.message,s=e.duration,i=e.setType;return Object(o.jsx)(a.a,{duration:s,persistOnHover:!0,children:Object(o.jsx)("div",{className:"notificationContainer",children:Object(o.jsxs)("div",{className:"notification ".concat(c),children:[Object(o.jsx)("p",{children:t}),Object(o.jsx)("div",{className:"icon",children:Object(o.jsx)(n.m,{onClick:function(){return i("none")}})})]})})})}}}]);
//# sourceMappingURL=13.82e8aad2.chunk.js.map
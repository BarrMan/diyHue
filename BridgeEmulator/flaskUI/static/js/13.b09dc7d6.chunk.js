(this.webpackJsonpdiyhue=this.webpackJsonpdiyhue||[]).push([[13],{112:function(e,c,t){"use strict";t.r(c);var n=t(14),s=t(2),o=t(16),a=t.n(o),r=t(27),i=t(12),l=t(101),j=t(92),d=(t(93),t(6)),u=function(e){var c=e.HOST_IP,t=e.api_key,n=e.id,s=e.device,o=e.setType,u=e.setMessage,b=function(){a.a.delete("".concat(c,"/api/").concat(t,"/sensors/").concat(n)).then((function(e){console.log(e.data),u("Device successfully deleted"),o("none"),o("success")})).catch((function(e){console.error(e),u("Error occured, check browser console"),o("none"),o("error")}))};return Object(d.jsxs)("div",{className:"card device",children:[Object(d.jsxs)("div",{className:"row1",children:[Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)(i.j,{})}),Object(d.jsx)("div",{className:"text",children:s.name})]}),Object(d.jsx)("div",{className:"row2",children:Object(d.jsxs)("div",{className:"text",children:["battery"in s.config&&function(){var e=s.config.battery,c=e+"%";return console.log(e),e>90?Object(d.jsx)(l.a,{title:c}):e>70?Object(d.jsx)(l.b,{title:c}):e>40?Object(d.jsx)(l.d,{title:c}):Object(d.jsx)(l.c,{title:c})}(),"ModelID: ",s.modelid," ",Object(d.jsx)("br",{}),"Type: ",s.type," ",Object(d.jsx)("br",{}),"Protocol: ",s.protocol," ",Object(d.jsx)("br",{})]})}),Object(d.jsxs)("div",{className:"row3",children:[Object(d.jsx)("div",{className:"dropdown"})," ",Object(d.jsx)("div",{className:"switchContainer",children:Object(d.jsxs)("label",{className:"switch",children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:s.config.on,onChange:function(e){return r=e.currentTarget.checked,void a.a.put("".concat(c,"/api/").concat(t,"/sensors/").concat(n,"/config"),{on:r}).then((function(e){console.log(e.data),u(s.name+" successfully "+(r?"enabled":"disabled")),o("none"),o("success")})).catch((function(e){console.error(e),u("Error occured, check browser console"),o("none"),o("error")}));var r}}),Object(d.jsx)("span",{className:"slider"})]})}),Object(d.jsx)("div",{className:"btn red",children:Object(d.jsx)(r.a,{title:"Delete",onClick:function(){Object(j.confirmAlert)({title:"Delete device "+s.name,message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){return b()}},{label:"No"}]})}})})]})]})},b=t(90);c.default=function(e){var c=e.HOST_IP,t=e.API_KEY,o=Object(s.useState)({}),r=Object(n.a)(o,2),i=r[0],l=r[1],j=Object(s.useState)("none"),O=Object(n.a)(j,2),h=O[0],f=O[1],v=Object(s.useState)("no message"),x=Object(n.a)(v,2),m=x[0],p=x[1];return Object(s.useEffect)((function(){var e=function(){void 0!==t&&a.a.get("".concat(c,"/sensors")).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.error(e)}))};e();var n=setInterval((function(){e()}),2e3);return function(){return clearInterval(n)}}),[c,t]),Object(d.jsxs)("div",{className:"content",children:["none"!==h&&Object(d.jsx)(b.a,{type:h,message:m,duration:"5000",setType:f}),Object(d.jsx)("div",{className:"cardGrid",children:Object.entries(i).map((function(e){var s=Object(n.a)(e,2),o=s[0],a=s[1];return"none"!==a.protocol&&Object(d.jsx)(u,{HOST_IP:c,api_key:t,id:o,device:a,setType:f,setMessage:p},o)}))})]})}},90:function(e,c,t){"use strict";t.d(c,"a",(function(){return r}));var n=t(12),s=t(91),o=t.n(s),a=t(6);function r(e){var c=e.type,t=e.message,s=e.duration,r=e.setType;return Object(a.jsx)(o.a,{duration:s,persistOnHover:!0,children:Object(a.jsx)("div",{className:"notificationContainer",children:Object(a.jsxs)("div",{className:"notification ".concat(c),children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)("div",{className:"icon",children:Object(a.jsx)(n.m,{onClick:function(){return r("none")}})})]})})})}}}]);
//# sourceMappingURL=13.b09dc7d6.chunk.js.map
{"version":3,"sources":["containers/Scenes.js","containers/Light.js","containers/ColorPicker.js","containers/Group.js","views/Groups.js"],"names":["Scenes","groupId","scenes","console","log","Object","entries","filter","scene","group","map","id","className","onClick","axios","put","applyScene","name","Light","light","switchLight","newState","JSON","stringify","useState","state","type","onChange","e","currentTarget","checked","min","max","defaultValue","value","ColorPicker","Group","lights","groupState","setgroupState","showContainer","setShowContainer","setGroup","step","Groups","groups","config","setConfig","useEffect","get","then","fetchedData","data"],"mappings":"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","file":"static/js/4.9db88de4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst applyScene = (scene) => {\naxios\n  .put(\n    `/api/local/groups/0/action`,\n    {'scene': scene}\n  )\n};\n\nconst Scenes = ({groupId, scenes}) => {\n  console.log(\"group is \" + groupId)\n  return (\n    <>\n    {Object.entries(scenes).filter(scene => scene[1].group === groupId).map(([id, scene]) => (\n      <div className=\"sceneContainer\" onClick={() => applyScene(id)}>\n        <p>{scene.name}</p>\n      </div>\n    ))}\n    </>\n);\n}\n\nexport default Scenes\n","import { useState } from \"react\";\nimport axios from \"axios\";\nimport { FaLightbulb } from \"react-icons/fa\";\n\nconst Light = ({ id, light }) => {\n\n  const switchLight = (newState) => {\n  console.log('Apply state ' + JSON.stringify(newState));\n  axios\n    .put(\n      `/api/local/lights/${id}/state`,\n      newState\n    )\n  };\n\n  const [state, setState] = useState(light.state)\n\n  return (\n      <div className=\"lightContainer textLight\">\n          <div className=\"iconContainer\">\n            <FaLightbulb/>\n          </div>\n          <div className=\"textContainer\">\n          <p>{ light.name }</p>\n          </div>\n          <div className=\"switchContainer\">\n            <label className=\"switch\">\n              <input type=\"checkbox\"\n                onChange={(e) => switchLight({'on': e.currentTarget.checked})}\n              />\n              <span className=\"slider\"></span>\n            </label>\n          </div>\n          <div className=\"slideContainer\">\n            <input type=\"range\" min=\"1\" max=\"254\" defaultValue=\"50\" className=\"slider\" id=\"myRange\"\n              onChange={(e) => switchLight({'bri': e.currentTarget.value})}\n            />\n          </div>\n        </div>\n  )\n}\n\nexport default Light\n","const ColorPicker = () => {\n  return (\n    <h3>Color Picker</h3>\n  )\n}\n\nexport default ColorPicker\n","import { FaCaretLeft, FaList  ,  FaPalette, FaTint, FaCouch} from \"react-icons/fa\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport Scenes from \"./Scenes\"\nimport Light from \"./Light\"\nimport ColorPicker from \"./ColorPicker\"\n\nconst Group = ({id, group, groupState, setgroupState, lights, scenes}) => {\n\n  const [showContainer, setShowContainer] = useState('closed');\n\n\n  const setGroup = (newState) => {\n  console.log('Apply state ' + JSON.stringify(newState));\n  axios\n    .put(\n      `/api/local/groups/${id}/action`,\n      newState\n    )\n  };\n\n\n  return (\n    <>\n      {showContainer !== 'closed' &&\n        <div className=\"header\">\n          <div onClick={() => setShowContainer('closed')}>\n          <div className=\"icon\"><FaCaretLeft/></div>\n          <div className=\"text\">close</div>\n        </div>\n        <div className={`tab ${showContainer === 'lights' ? 'active' : ''}`} onClick={() => setShowContainer('lights')}><FaList/></div>\n        <div className={`tab ${showContainer === 'scenes' ? 'active' : ''}`} onClick={() => setShowContainer('scenes')}><FaPalette/></div>\n        <div className={`tab ${showContainer === 'colorPicker' ? 'active' : ''}`} onClick={() => setShowContainer('colorPicker')}><FaTint/></div>\n      </div>}\n      <div className=\"overlayBtn\" onClick={() => setShowContainer('colorPicker')}></div>\n      <div className=\"iconContainer\">\n        <FaCouch/>\n      </div>\n      <div className=\"textContainer\">\n        <p>{group.name}</p>\n      </div>\n      <div className=\"switchContainer\">\n        <label className=\"switch\">\n          <input type=\"checkbox\"\n            value={group.state['any_on']}\n            onChange={(e) => setGroup({'on': e.currentTarget.checked})}\n          />\n          <span className=\"slider\"></span>\n        </label>\n      </div>\n      <div className=\"slideContainer\">\n        <input type=\"range\" min=\"1\" max=\"254\" defaultValue=\"50\" step=\"1\" className=\"slider\"\n          onChange={(e) => setGroup({'bri': e.currentTarget.value})}\n        />\n      </div>\n      <div className=\"dimmer\">\n        {showContainer === 'scenes' && <Scenes\n          groupId={ id }\n          scenes={ scenes }\n        />}\n        {showContainer === 'lights' &&\n        <div className=\"lightsContainer\">\n          {group.lights.map((light) => (<Light\n            key = { light }\n            id = { light }\n            light = { lights[light] }\n          />\n          ))}\n        </div>}\n        {showContainer === 'colorPicker' && <ColorPicker />}\n      </div>\n    </>\n  )\n}\n\nexport default Group\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Group from \"../containers/Group\"\n\nexport default function Groups() {\n\n  const [config, setConfig] = useState({ lights: {}, groups: {}, scenes: {}});\n\n  const [groupState, setgroupState] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(\"/api/local\")\n      .then((fetchedData) => {\n        setConfig(fetchedData.data);\n      });\n  }, [groupState]);\n\n  const switchLight = (state) => {\n    console.log(`Current State is: ${state}`, `Switchting to ${!state}`);\n    setgroupState(!state);\n  };\n\n  return (\n  <div className=\"content\">\n    <div className=\"cardGrid\">\n      {Object.entries(config.groups).map(([id, group]) => (\n        <div className=\"groupContainer expanded textLight\" key={id}>\n          <Group\n            id = {id}\n            group={group}\n            groupState={groupState}\n            setgroupState={setgroupState}\n            lights={config.lights}\n            scenes={config.scenes}\n          />\n      </div>\n      ))}\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
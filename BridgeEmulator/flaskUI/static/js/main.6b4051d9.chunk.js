(this.webpackJsonpdiyhue=this.webpackJsonpdiyhue||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(15),r=n.n(a),i=n(14),l=n(16),o=n.n(l),j=n(39),b=n(13),d=n(7),h=n(43),u=s.a.lazy((function(){return Promise.all([n.e(12),n.e(15)]).then(n.bind(null,107))})),x=s.a.lazy((function(){return Promise.all([n.e(3),n.e(14)]).then(n.bind(null,108))})),O=s.a.lazy((function(){return n.e(9).then(n.bind(null,100))})),f=s.a.lazy((function(){return n.e(10).then(n.bind(null,101))})),m=s.a.lazy((function(){return n.e(7).then(n.bind(null,102))})),p=s.a.lazy((function(){return n.e(11).then(n.bind(null,103))})),g=s.a.lazy((function(){return n.e(6).then(n.bind(null,104))})),y=s.a.lazy((function(){return Promise.all([n.e(5),n.e(13)]).then(n.bind(null,109))})),v=[{path:"/",exact:!0,name:"Groups",component:u},{path:"/groups",exact:!0,name:"Groups",component:u},{path:"/lights",exact:!0,name:"Lights",component:x},{path:"/linkbutton",exact:!0,name:"LinkButton",component:O},{path:"/mqtt",exact:!0,name:"MQTT",component:f},{path:"/deconz",exact:!0,name:"Deconz",component:m},{path:"/alarm",exact:!0,name:"Alarm",component:g},{path:"/bridge",exact:!0,name:"Bridge",component:s.a.lazy((function(){return n.e(4).then(n.bind(null,105))}))},{path:"/devices",exact:!0,name:"Devices",component:y},{path:"/hue",exact:!0,name:"Hue Bridge",component:s.a.lazy((function(){return n.e(8).then(n.bind(null,106))}))},{path:"/tradfri",exact:!0,name:"Tradfri",component:p}],S=n(6),F=Object(S.jsx)("div",{className:"pt-3 text-center",children:Object(S.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),I=function(e){var t=e.HOST_IP,n=e.API_KEY;return Object(S.jsx)("main",{className:"container",children:Object(S.jsx)(c.Suspense,{fallback:F,children:Object(S.jsx)(b.a,{children:Object(S.jsxs)(d.d,{children:[v.map((function(e,c){return e.component&&Object(S.jsx)(d.b,{path:e.path,exact:e.exact,name:e.name,render:function(c){return Object(S.jsx)(h.d,{children:Object(S.jsx)(e.component,{API_KEY:n,HOST_IP:t})})}},c)})),Object(S.jsx)(d.a,{from:"/",to:"/groups"})]})})})})},P=s.a.memo(I),k=n(12),_=n.p+"static/media/logo.f4d77638.svg",A=function(e){var t=e.HOST_IP,n=e.showSidebar,s=e.setShowSidebar,a=e.API_KEY,r=Object(c.useState)(!1),l=Object(i.a)(r,2),j=l[0],b=l[1];Object(c.useEffect)((function(){var e=function(){void 0!==a&&o.a.get("".concat(t,"/api/").concat(a,"/groups/0")).then((function(e){console.log(e.data),b(e.data.state.any_on)})).catch((function(e){console.error(e)}))};e();var n=setInterval((function(){e()}),5e3);return function(){return clearInterval(n)}}),[t,a]);return Object(S.jsxs)("div",{className:"topbar",children:[Object(S.jsx)("img",{src:_,alt:"diyHue Logo"}),Object(S.jsxs)("button",{type:"button",id:"sidebarCollapse",className:"sidebarToggle",onClick:function(){return s(!n)},children:[Object(S.jsx)(k.a,{}),Object(S.jsx)("span",{})]}),Object(S.jsxs)("div",{className:"switchContainer",children:[Object(S.jsxs)("p",{children:["Turn all ",j?"off":"on"]}),Object(S.jsxs)("label",{className:"switch",children:[Object(S.jsx)("input",{type:"checkbox",value:j,checked:j,onChange:function(e){return function(e){var n={on:e};b(e),console.log("Apply state "+JSON.stringify(n)),o.a.put("".concat(t,"/api/").concat(a,"/groups/0/action"),n)}(e.target.checked)}}),Object(S.jsx)("span",{className:"slider"})]})]})]})},T=n(42),z=n(17),E=n(27),N=n(41),C=function(e){var t=e.showSidebar;return Object(S.jsx)("div",{className:"sidebar ".concat(t?"":"active"),children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{className:"iconBox"}),Object(S.jsx)("a",{href:"#home",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(k.f,{style:{color:"#0092FF"}})," Home"]})}),Object(S.jsx)("a",{href:"#lights",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(k.h,{style:{color:"#FF9E00"}})," Lights"]})}),Object(S.jsx)("a",{href:"#linkbutton",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(k.i,{style:{color:"#FF92FF"}})," Link Button"]})}),Object(S.jsx)("a",{href:"#bridge",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(E.b,{style:{color:"#92FFFF"}})," Bridge"]})}),Object(S.jsx)("a",{href:"#devices",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(z.c,{style:{color:"#764600"}})," Devices"]})}),Object(S.jsx)("a",{href:"#mqtt",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(z.e,{style:{color:"#0084FF"}})," MQTT"]})}),Object(S.jsx)("a",{href:"#deconz",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(z.d,{style:{color:"#42A138"}})," Deconz"]})}),Object(S.jsx)("a",{href:"#tradfri",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(N.a,{style:{color:"#CCA138"}})," ","Tradfri"]})}),Object(S.jsx)("a",{href:"#hue",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(k.g,{style:{color:"#8400FF"}})," Hue Bridge"]})}),Object(S.jsx)("a",{href:"#diyhue",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(T.a,{style:{color:"#CCCCCC"}})," DiyHue Bridge"]})}),Object(S.jsx)("a",{href:"#alarm",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(z.a,{style:{color:"#AE2D00"}})," Alarm"]})}),Object(S.jsx)("a",{href:"#settings",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(k.d,{style:{color:"#FFFF00"}})," Settings"]})}),Object(S.jsx)("a",{href:"/logout",children:Object(S.jsxs)("li",{children:[Object(S.jsx)(k.l,{style:{color:"#fff"}})," Logout"]})})]})})},H=s.a.memo(C),w=function(e){var t=e.HOST_IP,n=e.API_KEY,s=Object(j.useMediaQuery)({query:"(max-width: 760px)"}),a=Object(c.useState)(!s),r=Object(i.a)(a,2),l=r[0],o=r[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(A,{HOST_IP:t,API_KEY:n,showSidebar:l,setShowSidebar:o}),Object(S.jsx)(H,{showSidebar:l}),Object(S.jsx)(P,{HOST_IP:t,API_KEY:n})]})},B=(n(81),Object(S.jsx)("div",{className:"pt-3 text-center",children:Object(S.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})})),K=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){console.log("".concat("","/get-key")),o.a.get("".concat("","/get-key")).then((function(e){"string"===typeof e.data&&32===e.data.length?(console.log("API_KEY from API: ".concat(e.data)),a(e.data)):console.log("Unable to fetch API_KEY!")})).catch((function(e){console.error(e)}))}),[]),Object(S.jsx)(s.a.Suspense,{fallback:B,children:Object(S.jsx)("div",{className:"flexContainer",children:Object(S.jsx)(w,{HOST_IP:"",API_KEY:n})})})};r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(K,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.6b4051d9.chunk.js.map